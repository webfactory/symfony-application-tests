language: php

php:
  - '5.3'
  - '5.4'
  - '5.5'
  - '5.6'
  - '7.0'
  - hhvm

before_script:
    - travis_retry curl -s http://getcomposer.org/installer | php
    - travis_retry php composer.phar install
    - mkdir -p build/logs

script:
    - vendor/bin/phpunit --coverage-clover build/logs/clover.xml

matrix:
  allow_failures:
    - php: hhvm

notifications:
  hipchat:
    rooms:
      secure: "U6zvjfNRPKPAdsl1NFDR2uFXsKUVwo2/+/S3M8Ovep6Iualsq3T21Gg/Bvll1IqJRY07aOFMkedQZYEP++mNzweNfPxHZAw47UEV4LO9B3R7VdpYO5VodEKAU/KAvnJBOv+/GFVatbVDsppk55E/Qu/x7ZniUm1O8Yhnw26vLjg="
